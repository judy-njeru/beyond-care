<app-navbar></app-navbar>

<div class=" container login-user">
  <div class="login-form">
    <form
      class="login-user-form"
      [formGroup]="loginForm"
      (ngSubmit)="onSubmit()"
    ><!--loginForm FormGroup is bound to the form element with the FormGroup directive-->
    <!--Provide the <form> an instance of a FormGroup (the loginForm is initialized in the class component)-->
      <mat-card class="login-card">
        <mat-card-title id="signup-title">Log In</mat-card-title>
        <mat-card-content>
          <div>
            <mat-form-field>
              <!-- <p>Username</p> -->
              <input matInput placeholder="Username" formControlName="username" />
              <!--The formControlName binds an input element to the form control defined in FormGroup-->
              <mat-error
                *ngIf="
                  loginForm.controls.username.errors?.required &&
                  loginForm.controls.username.touched
                "
              >
                You must fill out your username
              </mat-error>
            </mat-form-field>
            <!-- <input type="text" formControlName="username"> -->
          </div>

          <div>
            <mat-form-field>
              <!-- <p>Password</p> -->
              <input
                matInput
                placeholder="Password"
                type="password"
                formControlName="password"
              />
              <mat-error
                *ngIf="
                  loginForm.controls.password.value === '' &&
                  loginForm.controls.password.touched
                "
              >
                You must fill out the password
              </mat-error>

              <mat-error
                *ngIf="
                  loginForm.controls.password.errors?.minlength &&
                  loginForm.controls.password.touched
                "
              >
                Password must be at least 3 characters
              </mat-error>

              <mat-error
                *ngIf="
                  loginForm.controls.password.errors?.pattern &&
                  loginForm.controls.password.touched
                "
              >
                Password must include special characters
              </mat-error>
            </mat-form-field>
          </div>

          <button
            mat-raised-button
            color="primary"
            type="submit"
            [disabled]="!loginForm.valid"
            id="btnUserlogin"
          >
            Login
          </button>
        </mat-card-content>
        <mat-card-actions>
          <mat-divider></mat-divider>

          <mat-card-subtitle>I want to register instead</mat-card-subtitle>
          <button
            id="buttonRegisterUser"
            type="button"
            mat-button
            routerLink="/cart/new-customer/register"
          >
            Register
          </button>
        </mat-card-actions>
      </mat-card>
    </form>
  </div>
</div>
